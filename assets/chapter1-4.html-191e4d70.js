import{_ as n,r as i,o as r,c as l,a as o,b as e,d as s,e as t}from"./app-25465c35.js";const p={},c=o("h1",{id:"retro-yao-mio-镜像文件的烧写",tabindex:"-1"},[o("a",{class:"header-anchor",href:"#retro-yao-mio-镜像文件的烧写","aria-hidden":"true"},"#"),e(" Retro Yao-Mio 镜像文件的烧写")],-1),d=o("p",null,"在上一章节中我们了解了 Retro Yao-Mio 学习套件的硬件清单、如何组装、以及获取了学习资料包。",-1),h=o("blockquote",null,[o("p",null,"如果是购买整套开发套件，开箱即用，也就是打开电源开关即可正常使用。")],-1),_=o("h2",{id:"获取-retro-yao-mio-镜像文件",tabindex:"-1"},[o("a",{class:"header-anchor",href:"#获取-retro-yao-mio-镜像文件","aria-hidden":"true"},"#"),e(" 获取 Retro Yao-Mio 镜像文件")],-1),u=o("p",null,"有三个地方可以获取到 Retro Yao-Mio 配套的镜像文件(retro-go-yao-mio)：",-1),m=o("li",null,[e("在资料包中获得，其路径为："),o("code",null,"DShanMCU-Mio_ESP-IDF_Data/04_配套固件/retro-go-yao-mio")],-1),g={href:"https://forums.100ask.net/t/topic/2991",target:"_blank",rel:"noopener noreferrer"},b={href:"https://gitee.com/weidongshan/retro-go-yao-mio/releases",target:"_blank",rel:"noopener noreferrer"},M={href:"https://github.com/100askTeam/retro-go-yao-mio/releases",target:"_blank",rel:"noopener noreferrer"},v=o("p",null,"在获取到镜像文件之后，如果需要烧写镜像文件，请根据自身实际情况任选一种方法按照其步骤进行。",-1),f=o("h2",{id:"_1-使用sd卡更新",tabindex:"-1"},[o("a",{class:"header-anchor",href:"#_1-使用sd卡更新","aria-hidden":"true"},"#"),e(" 1. 使用sd卡更新")],-1),k=o("p",null,"这个方法适合 DShanMCU-Mio 本身已经烧写了 retro-go-yao-mio 镜像的情况使用，也就是提供固件文件让 DShanMCU-Mio 直接通过固件文件进行更新。",-1),R=o("p",null,"该功能状态：未完成(TODO)",-1),w=o("h2",{id:"_2-windows平台烧写",tabindex:"-1"},[o("a",{class:"header-anchor",href:"#_2-windows平台烧写","aria-hidden":"true"},"#"),e(" 2.Windows平台烧写")],-1),Y=o("code",null,"flash_download_tool",-1),y={href:"https://www.espressif.com.cn/zh-hans/support/download/other-tools",target:"_blank",rel:"noopener noreferrer"},S=t('<ol><li>进入到资料目录： <code>DShanMCU-Mio_ESP-IDF_Data\\03_开发工具</code></li><li>解压 <code>flash_download_tool.zip</code> 这里不标明版本号，因为改软件会更新，一般只保留最新的版本，请灵活选择。</li><li>进入到解压后的目录 <strong>flash_download_tool</strong>，打开 <strong>flash_download_tool.exe</strong>，以 flash_download_tool_3.9.4.exe 为例：</li></ol><p><img src="https://photos.100ask.net/esp32-docs/Retro-Yao-Mio/chapter1/Retro-Yao-Mio_chapter1-4_images_001.jpg" alt="Retro-Yao-Mio_chapter1-4_images_001"></p><ol start="4"><li>打开 flash_download_tool.exe 之后，会弹出一个黑色的DOS界面和 flash_download_tool.exe 界面入口，共两个窗口，黑色那个窗口不用理会(也不要在flash_download_tool运行期间将其关闭)，当将 flash_download_tool 关闭之后其会自动关闭。flash_download_tool入口配置如下：</li></ol><p><img src="https://photos.100ask.net/esp32-docs/Retro-Yao-Mio/chapter1/Retro-Yao-Mio_chapter1-4_images_002.jpg" alt="Retro-Yao-Mio_chapter1-4_images_002"></p><p>当点击 <code>OK</code> 之后会进入到 flash_download_tool 主界面，这里我们就可以进行烧写了，我们烧写 retro-go-yao-mio 固件的操作步骤如下：</p><ol><li>按照下图所示对硬件进行接线，也就是将 USB Type-C 接入DShanMCU-Mio 正面右边的Type-C口(正对着串口芯片)：</li></ol><p><img src="https://photos.100ask.net/esp32-docs/Retro-Yao-Mio/chapter1/Retro-Yao-Mio_chapter1-4_images_003.jpg" alt="Retro-Yao-Mio_chapter1-4_images_003"></p><ol start="2"><li>选择固件：</li></ol><p><img src="https://photos.100ask.net/esp32-docs/Retro-Yao-Mio/chapter1/Retro-Yao-Mio_chapter1-4_images_004.jpg" alt="Retro-Yao-Mio_chapter1-4_images_004"></p><ol start="3"><li>配置下载选项：</li></ol><p><img src="https://photos.100ask.net/esp32-docs/Retro-Yao-Mio/chapter1/Retro-Yao-Mio_chapter1-4_images_005.jpg" alt="Retro-Yao-Mio_chapter1-4_images_005"></p><p>当接上DShanMCU-Mio之后，COM口会自动识别并更新出来，点击COM所在的下来列表选择COM，请按照自己的实际情况选择正确的COM。</p><ol start="4"><li>配置好后，先点击 <code>ERASE</code> 按钮擦除Flash中的内容，刷除成功后，左边框出现完成字样：</li></ol><p>擦除中</p><p><img src="https://photos.100ask.net/esp32-docs/Retro-Yao-Mio/chapter1/Retro-Yao-Mio_chapter1-4_images_006.jpg" alt="Retro-Yao-Mio_chapter1-4_images_006"></p><p>擦除完成</p><p><img src="https://photos.100ask.net/esp32-docs/Retro-Yao-Mio/chapter1/Retro-Yao-Mio_chapter1-4_images_007.jpg" alt="Retro-Yao-Mio_chapter1-4_images_007"></p><ol start="5"><li>擦除完成后，继续点击 <code>START</code> 按钮进行烧写：</li></ol><p>烧写中</p><p><img src="https://photos.100ask.net/esp32-docs/Retro-Yao-Mio/chapter1/Retro-Yao-Mio_chapter1-4_images_008.jpg" alt="Retro-Yao-Mio_chapter1-4_images_008"></p><p>烧写完成</p><p><img src="https://photos.100ask.net/esp32-docs/Retro-Yao-Mio/chapter1/Retro-Yao-Mio_chapter1-4_images_009.jpg" alt="Retro-Yao-Mio_chapter1-4_images_009"></p><p>烧写完成之后，关闭 flash_download_tool，之后将 USB Type-C 断开，然后重启或启动 DShanMCU-Mio 即可进入 retro-go-yao-mio 系统，开始尽情畅玩！</p><h2 id="_3-linux平台烧写" tabindex="-1"><a class="header-anchor" href="#_3-linux平台烧写" aria-hidden="true">#</a> 3.Linux平台烧写</h2>',24),C={href:"http://esp32.100ask.net/#/DShanMCU-Mio/ESP-IDF/chapter2-3",target:"_blank",rel:"noopener noreferrer"},D={href:"http://esp32.100ask.net/#/DShanMCU-Mio/ESP-IDF/chapter2-3",target:"_blank",rel:"noopener noreferrer"},x=t(`<ol><li><p>打开Ubuntu虚拟机，进入到Ubuntu桌面。</p></li><li><p>按照下图所示对硬件进行接线，也就是将 USB Type-C 接入DShanMCU-Mio 正面右边的Type-C口(正对着串口芯片)：</p></li></ol><p><img src="https://photos.100ask.net/esp32-docs/Retro-Yao-Mio/chapter1/Retro-Yao-Mio_chapter1-4_images_003.jpg" alt="Retro-Yao-Mio_chapter1-4_images_003"></p><ol start="3"><li>如果弹出下面的窗口请，请选择连接到虚拟机：</li></ol><p><img src="https://photos.100ask.net/esp32-docs/Retro-Yao-Mio/chapter1/Retro-Yao-Mio_chapter1-4_images_010.jpg" alt="Retro-Yao-Mio_chapter1-4_images_010"></p><ol start="4"><li><p>使用u盘将固件复制到虚拟机中或者虚拟机中的浏览器 <a href="#%E8%8E%B7%E5%8F%96-retro-yao-mio-%E9%95%9C%E5%83%8F%E6%96%87%E4%BB%B6">下载</a>。</p></li><li><p>这里将固件存放在虚拟机的 Download/yao-mio 目录下，进入到这个目录，在这个目录下空白的地方单击鼠标右键，然后选择 <code>Open in Termianl</code>：</p></li></ol><p><img src="https://photos.100ask.net/esp32-docs/Retro-Yao-Mio/chapter1/Retro-Yao-Mio_chapter1-4_images_011.jpg" alt="Retro-Yao-Mio_chapter1-4_images_011"></p><ol start="6"><li>进入 终端控制台(termianl) 之后，开始烧写，烧写过程如下：</li></ol><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>ubuntu@ubuntu-2204:~/Downloads/yao-mio$ <span class="token function">ls</span>
retro-go-yao-mio_1.38.2_yao-mio.img
ubuntu@ubuntu-2204:~/Downloads/yao-mio$ get_idf
ubuntu@ubuntu-2204:~/Downloads/yao-mio$ esptool.py write_flash <span class="token parameter variable">--flash_size</span> detect 0x0  retro-go-yao-mio_1.38.2_yao-mio.img 
esptool.py v3.3.2-dev
Found <span class="token number">1</span> serial ports
Serial port /dev/ttyACM0
Connecting<span class="token punctuation">..</span>.
Detecting chip type<span class="token punctuation">..</span>. ESP32-S3
Chip is ESP32-S3
Features: WiFi, BLE
Crystal is 40MHz
MAC: <span class="token number">68</span>:b6:b3:24:fb:54
Uploading stub<span class="token punctuation">..</span>.
Running stub<span class="token punctuation">..</span>.
Stub running<span class="token punctuation">..</span>.
Configuring flash size<span class="token punctuation">..</span>.
Auto-detected Flash size: 16MB
Flash will be erased from 0x00000000 to 0x0044ffff<span class="token punctuation">..</span>.
Warning: some reserved header fields have non-zero values. This image may be from a newer esptool.py?
Compressed <span class="token number">4521984</span> bytes to <span class="token number">2559229</span><span class="token punctuation">..</span>.
Wrote <span class="token number">4521984</span> bytes <span class="token punctuation">(</span><span class="token number">2559229</span> compressed<span class="token punctuation">)</span> at 0x00000000 <span class="token keyword">in</span> <span class="token number">49.5</span> seconds <span class="token punctuation">(</span>effective <span class="token number">730.6</span> kbit/s<span class="token punctuation">)</span><span class="token punctuation">..</span>.
Hash of data verified.

Leaving<span class="token punctuation">..</span>.
Hard resetting via RTS pin<span class="token punctuation">..</span>.
ubuntu@ubuntu-2204:~/Downloads/yao-mio$ 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>烧写完成之后，会自动重启 DShanMCU-Mio 进入 retro-go-yao-mio，之后请尽情畅玩吧！</p>`,9);function E(U,F){const a=i("ExternalLinkIcon");return r(),l("div",null,[c,d,h,_,u,o("ol",null,[m,o("li",null,[e("在社区直接下载："),o("a",g,[e("https://forums.100ask.net/t/topic/2991"),s(a)])]),o("li",null,[e("在 gitee 仓库的 release 中获得，其地址为："),o("a",b,[e("https://gitee.com/weidongshan/retro-go-yao-mio/releases"),s(a)])]),o("li",null,[e("在 github 仓库的 release 中获得，其地址为："),o("a",M,[e("https://github.com/100askTeam/retro-go-yao-mio/releases"),s(a)])])]),v,f,k,R,w,o("p",null,[e("在windows平台上，我们使用乐鑫官方提供的 Flash 下载工具："),Y,e("，该工具在资料包可以获取到。这个工具可以乐鑫官网这个地址获取最新的版本："),o("a",y,[e("https://www.espressif.com.cn/zh-hans/support/download/other-tools"),s(a)])]),S,o("p",null,[e("这里我们使用已经搭建了esp-idf开发环境的Ubuntu系统。建议使用在前面获取资料章节中获取到的"),o("a",C,[e("Ubuntu虚拟机"),s(a)]),e("。")]),o("ul",null,[o("li",null,[e("配套虚拟机及VMware-workstation获取地址："),o("a",D,[e("http://esp32.100ask.net/#/DShanMCU-Mio/ESP-IDF/chapter2-3"),s(a)])])]),x])}const j=n(p,[["render",E],["__file","chapter1-4.html.vue"]]);export{j as default};
